{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Cursor Agent Definition",
  "type": "object",
  "properties": {
    "identity": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Internal name (snake_case), e.g., 'security_expert'"
        },
        "display_name": {
          "type": "string",
          "description": "Human readable name, e.g., 'Security Expert'"
        },
        "role": {
          "type": "string",
          "description": "Primary function, e.g., 'Analyzes code for vulnerabilities'"
        },
        "tone": {
          "type": "string",
          "description": "Communication style, e.g., 'Formal, paranoid, precise'"
        }
      },
      "required": ["name", "display_name", "role", "tone"]
    },
    "routing": {
      "type": "object",
      "properties": {
        "domain_keywords": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Keywords for the router to identify this agent"
        },
        "trigger_command": {
          "type": "string",
          "description": "Slash command to activate explicitly, e.g., '/audit'"
        }
      },
      "required": ["domain_keywords", "trigger_command"]
    },
    "context": {
      "type": "object",
      "properties": {
        "system_prompt": {
          "type": "string",
          "description": "The core instructions for the agent (MDC content)"
        },
        "file_globs": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Glob patterns for files this agent should have context of"
        }
      },
      "required": ["system_prompt", "file_globs"]
    },
    "static_skills": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Skills for static fallback mode (with .mdc extension), e.g., 'skill-analysis-critical.mdc'"
    },
    "preferred_skills": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Preferred skills for MCP dynamic loading (without extension), e.g., 'skill-analysis-critical'"
    }
  },
  "required": ["identity", "routing", "context", "static_skills"]
}
